@using Sandbox.UI;

@namespace GameJam
@inherits Panel

<root>
    <ResourcePanel ResourceName="Energy" ResourceAmount=@(@Math.Round(GameMgr.TotalEnergy).ToString())></ResourcePanel>
    <ResourcePanel ResourceName="Goblin" ResourceAmount=@(@GameMgr.GoblinArmy.Count.ToString()))></ResourcePanel>
    <ResourcePanel ResourceName="Wood" ResourceAmount=@(@GameMgr.TotalWood.ToString())></ResourcePanel>
    <ResourcePanel ResourceName="Gold" ResourceAmount=@(@GameMgr.TotalGold.ToString())></ResourcePanel>
    <ResourcePanel ResourceName="Food" ResourceAmount=@(@GameMgr.TotalFood.ToString())></ResourcePanel>
    <ResourcePanel ResourceName="Women" ResourceAmount=@(@GameMgr.TotalWomen.ToString())></ResourcePanel>
</root>

<style>
    Resources {
        position: absolute;
        top: 30px;
        right: 30px;

        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;

		ResourcePanel {
			margin-right: 16px;
		}
        
        transition: all .3s ease-in-out;

        &:intro {
            transform: scale(0.5);
            opacity: 0;
        }
    }
</style>

@code {

    protected override int BuildHash()
    {
        return HashCode.Combine(GameMgr.GoblinArmy.Count + GameMgr.TotalWood + GameMgr.TotalGold + GameMgr.TotalFood + GameMgr.TotalWomen + GameMgr.TotalEnergy);
    }
}
