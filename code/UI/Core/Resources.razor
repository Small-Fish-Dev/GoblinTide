@using Sandbox.UI;

@namespace GameJam
@inherits Panel

<root>
    <ResourcePanel ResourceName="Energy" ResourceAmount=@((int)Math.Round(GameMgr.TotalEnergy)) />
    <ResourcePanel ResourceName="Goblin" ResourceAmount=@(GameMgr.GoblinArmy.Count) />
    <ResourcePanel ResourceName="Wood" ResourceAmount=@(GameMgr.TotalWood) />
    <ResourcePanel ResourceName="Gold" ResourceAmount=@(GameMgr.TotalGold) />
    <ResourcePanel ResourceName="Food" ResourceAmount=@(GameMgr.TotalFood) />
    <ResourcePanel ResourceName="Women" ResourceAmount=@(GameMgr.TotalWomen) />
</root>

<style>
    Resources {
        position: absolute;
        top: 30px;
        right: 30px;

        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;

		ResourcePanel {
			margin-right: 16px;
		}
        
        transition: all .3s ease-in-out;

        &:intro {
            transform: scale(0.5);
            opacity: 0;
        }
    }
</style>

@code {

    protected override int BuildHash()
    {
        return HashCode.Combine(GameMgr.GoblinArmy.Count + GameMgr.TotalWood + GameMgr.TotalGold + GameMgr.TotalFood + GameMgr.TotalWomen + GameMgr.TotalEnergy);
    }
}
