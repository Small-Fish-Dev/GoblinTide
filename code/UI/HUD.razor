@using Sandbox;
@using Sandbox.UI;

@namespace GameJam
@inherits RootPanel

<style>
	HUD {
		position: absolute;
		left: 0px;
		top: 0px;
		width: 100%;
		height: 100%;
		color: white;
	}
</style>

<root>
	<eventlogger/>
</root>

@code {
	
	public static HUD Instance { get; private set; }

	public HUD()
	{
		Instance?.Delete( true );
		Game.RootPanel = this;
		Instance = this;
	}

	[Event.Hotload, GameEvents.Initialize]
	private static void Refresh()
	{
		if ( Game.IsClient )
			_ = new HUD();
	}

	[Debug.Draw]
	private void DebugDraw()
	{
		Debug.Section( "HUD", () =>
		{
			foreach ( var child in _children )
			{
				var focus = child.HasFocus ? "(focused) " : "";
				Debug.Add($"{child} {focus}");
			}
		} );
	}

}
